# 第一个机器人
* 在iotqq上登陆你的QQ账户，具体请查看[iotqq文档](https://github.com/IOTQQ/IOTQQ)
* clone该仓库，将pyiot目录复制到你的项目目录下（未来会放在pypi上）
* 新建bot.py (代码在[demo.py](https://www.github.com/KongChengPro/Pyiot/tree/master/demo.py)
中)
* 导入pyiot `from pyiot import pyiot`
* 启动一个pyiot服务  
`pi = pyiot.start("http://127.0.0.1:8888", "机器人的QQ号", pyiot.DEBUG)`
* 编写一个函数，使用装饰器`@pi.on_friend_command()`，
它会将函数注册为一个私聊命令，参数是一个正则表达式，
当消息匹配成功时(`re.match`)，该函数会被调用。  
```
@pi.on_friend_command("(你好|hello)")
def hello(event):
    pi.reply("Hello World!", event)
```
* 运行该文件，向你的机器人发送`你好`或`hello`，不出意外的话，他会回复`Hello World!`
* 如果机器人没有向你发送，请检查：
>1. iotqq是否成功登陆了你的QQ（在iotqq终端查看）
>2. iotqq是否接收到了消息（在iotqq终端查看）
>3. pyiot是否接收到了消息（在运行pyiot的终端查看）
>4. pyiot是否响应了消息（在`pi.reply...`一行前加上一句print，如果输出了，则表明调用了该函数）
>5. pyiot是否成功发送了消息（在iotqq终端查看） 
>6. 如果检查完以上所有条目仍不能解决问题，请反复检查你的代码直到找到问题所在。如找不到，可以询问他人，但请注意语气，他人没有义务帮你。

**本章节代码可在[demo.py](https://www.github.com/KongChengPro/Pyiot/tree/master/demo.py)
查看**